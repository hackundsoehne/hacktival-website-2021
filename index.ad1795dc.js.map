{"mappings":"YAAA,SAAAA,WACSC,SAASC,gBAAgBC,WAAaF,SAASG,KAAKD,UAG7D,SAAAE,EAAuBC,SACfC,EAAAA,mBAA8BD,MAC9BE,EAAYP,SAASQ,cAAcF,OAEpCC,eAKCE,EADQT,SAASU,eAAe,OAChBC,wBAEhBC,EAAcL,EAAUI,wBACxBE,EAAgBD,EAAYE,MAAQ,EACpCC,EAA2BH,EAAYI,KAAOP,EAAQO,KAEtDC,EAAcjB,SAASU,eAAe,iBAItCQ,EACJH,EAA2BF,EAJPI,EAAYN,wBACIG,MAAQ,EAI9CG,EAAYE,MAAMH,KAAAA,GAAUE,MAQ9B,SAAAE,EAAsBf,GACpBD,EAAcC,GANhB,SAAuBA,GAErBgB,QAAQC,kBAAaC,OAAWA,EAAWlB,GAK3CmB,CAAcnB,GAGhB,SAAAoB,UACQC,EAAQ1B,SAASU,eAAe,OAChCD,EAAUiB,EAAMf,wBACCZ,IACCU,EAAQkB,OAE9BD,EAAME,UAAUC,IAAI,eAEpBH,EAAME,UAAUE,OAAO,eAI3B,SAAAC,EAAsBC,OAChBC,EACJC,OAAOC,iBACL,UACA,SAAUC,GACRF,OAAOG,aAAaJ,GACpBA,EAAcK,WAAWN,EAAU,OAErC,qBAiBIN,EAAQ1B,SAASU,eAAe,OAChC6B,EAAcvC,SAASU,eAAe,cACtC8B,EAAwBxC,SAASyC,iBAAiB,uBAfpCT,EAChBU,EAeAC,GAAU,EAEdJ,EAAYJ,iBAAiB,SAAS,WACpCQ,GAAWA,EACXC,QAAQC,IAAI,WACRF,EACFjB,EAAME,UAAUC,IAAI,YAEpBH,EAAME,UAAUE,OAAO,eAI3B9B,SAASyC,iBAAiB,gBAAgBK,SAASC,IACjDA,EAAOZ,iBAAiB,SAAS,SAAUa,GACzCA,EAAEC,uBAEI5C,EAAO6C,KAAKC,aAAa,QAE/BnD,SAASQ,cAAcH,GAAM+C,eAAAA,CAC3BC,SAAU,WAGZjC,EAAaf,SAtCG2B,EA0CP,iBACL3B,EAAO6B,OAAOoB,SAASjD,KACzBA,GACFD,EAAcC,IA3ClB6B,OAAOC,iBACL,UACA,SAAUC,GACRF,OAAOG,aAAaK,GACpBA,EAAaJ,WAAWN,EAAU,OAEpC,GAyCFD,GAAa,iBACLwB,EAAiBxD,QACnByD,EAAkB,KAEtBhB,EAAsBM,SAASW,IACzBA,EAAcC,WAAaH,IAC7BC,EAAkBC,EAAcE,OAK/BH,GAILpC,EALa,IAAMoC,MAQrBzB,EAAaN","sources":["./src/js/nav.js"],"sourcesContent":["function getScrollPosition() {\n  return document.documentElement.scrollTop || document.body.scrollTop;\n}\n\nfunction moveIndicator(hash) {\n  const selector = `.nav-text[href=\"${hash}\"]`;\n  const navTextEl = document.querySelector(selector);\n\n  if (!navTextEl) {\n    return;\n  }\n\n  const navEl = document.getElementById(\"nav\");\n  const navRect = navEl.getBoundingClientRect();\n\n  const navTextRect = navTextEl.getBoundingClientRect();\n  const navTextCenter = navTextRect.width / 2;\n  const navTextLeftRelativeToNav = navTextRect.left - navRect.left;\n\n  const indicatorEl = document.getElementById(\"nav-indicator\");\n  const indicatorRect = indicatorEl.getBoundingClientRect();\n  const indicatorCenter = indicatorRect.width / 2;\n\n  const indicatorLeftRelativeToNav =\n    navTextLeftRelativeToNav + navTextCenter - indicatorCenter;\n  indicatorEl.style.left = `${indicatorLeftRelativeToNav}px`;\n}\n\nfunction updateURLHash(hash) {\n  // Set the URL hash without scrolling to it\n  history.replaceState(undefined, undefined, hash);\n}\n\nfunction focusSection(hash) {\n  moveIndicator(hash);\n  updateURLHash(hash);\n}\n\nfunction updateNavBg() {\n  const navEl = document.getElementById(\"nav\");\n  const navRect = navEl.getBoundingClientRect();\n  const scrollPosition = getScrollPosition();\n  const navBottomOffset = navRect.bottom;\n  if (scrollPosition > navBottomOffset) {\n    navEl.classList.add(\"nav-with-bg\");\n  } else {\n    navEl.classList.remove(\"nav-with-bg\");\n  }\n}\n\nfunction onScrollDone(callback) {\n  var isScrolling;\n  window.addEventListener(\n    \"scroll\",\n    function (event) {\n      window.clearTimeout(isScrolling);\n      isScrolling = setTimeout(callback, 70);\n    },\n    false\n  );\n}\n\nfunction onResizeDone(callback) {\n  var isResizing;\n  window.addEventListener(\n    \"resize\",\n    function (event) {\n      window.clearTimeout(isResizing);\n      isResizing = setTimeout(callback, 70);\n    },\n    false\n  );\n}\n\n(function () {\n  const navEl = document.getElementById(\"nav\");\n  const navButtonEl = document.getElementById(\"nav-button\");\n  const sectionTargetElements = document.querySelectorAll(\".section-target\");\n  var navOpen = false;\n\n  navButtonEl.addEventListener(\"click\", function () {\n    navOpen = !navOpen;\n    console.log(\"CLICKED\");\n    if (navOpen) {\n      navEl.classList.add(\"nav-open\");\n    } else {\n      navEl.classList.remove(\"nav-open\");\n    }\n  });\n\n  document.querySelectorAll('a[href^=\"#\"]').forEach((anchor) => {\n    anchor.addEventListener(\"click\", function (e) {\n      e.preventDefault();\n\n      const hash = this.getAttribute(\"href\");\n\n      document.querySelector(hash).scrollIntoView({\n        behavior: \"smooth\",\n      });\n\n      focusSection(hash);\n    });\n  });\n\n  onResizeDone(function () {\n    const hash = window.location.hash;\n    if (hash) {\n      moveIndicator(hash);\n    }\n  });\n\n  onScrollDone(function () {\n    const scrollPosition = getScrollPosition();\n    var sectionTargetId = null;\n\n    sectionTargetElements.forEach((sectionTarget) => {\n      if (sectionTarget.offsetTop <= scrollPosition) {\n        sectionTargetId = sectionTarget.id;\n      }\n    });\n\n    const hash = \"#\" + sectionTargetId;\n    if (!sectionTargetId) {\n      return;\n    }\n\n    focusSection(hash);\n  });\n\n  onScrollDone(updateNavBg);\n})();\n"],"names":["$e2908f3201ca5ca29d6cf0a8f2615be0$var$getScrollPosition","document","documentElement","scrollTop","body","$e2908f3201ca5ca29d6cf0a8f2615be0$var$moveIndicator","hash","selector","navTextEl","querySelector","navRect","getElementById","getBoundingClientRect","navTextRect","navTextCenter","width","navTextLeftRelativeToNav","left","indicatorEl","indicatorLeftRelativeToNav","style","$e2908f3201ca5ca29d6cf0a8f2615be0$var$focusSection","history","replaceState","undefined","$e2908f3201ca5ca29d6cf0a8f2615be0$var$updateURLHash","$e2908f3201ca5ca29d6cf0a8f2615be0$var$updateNavBg","navEl","bottom","classList","add","remove","$e2908f3201ca5ca29d6cf0a8f2615be0$var$onScrollDone","callback","isScrolling","window","addEventListener","event","clearTimeout","setTimeout","navButtonEl","sectionTargetElements","querySelectorAll","isResizing","navOpen","console","log","forEach","anchor","e","preventDefault","this","getAttribute","scrollIntoView","behavior","location","scrollPosition","sectionTargetId","sectionTarget","offsetTop","id"],"version":3,"file":"index.ad1795dc.js.map"}